/* 
jQuery `input` special event v1.0
http://whattheheadsaid.com/projects/input-special-event
(c) 2010 Andy Earnshaw
MIT license
www.opensource.org/licenses/mit-license.php
*/
(function($){$.event.special.input={setup:function(data,namespaces){var timer,elem=this,state=elem.value,tester=document.createElement(this.tagName),oninput="oninput"in tester||checkEvent(tester),onprop="onpropertychange"in tester;function checkState(){if(elem.value!=state)
state=elem.value,$(elem).trigger("input");}
function handler(e){if(e.type=="propertychange"&&window.event.propertyName=="value")
$(this).trigger("input");else if(e.type=="focus"){checkState();clearInterval(timer),timer=window.setInterval(checkState,250);}
else if(e.type=="blur")
window.clearInterval(timer);else
window.setTimeout(checkState,0);}
if(oninput)
return false;else if(onprop)
$(this).bind("propertychange",handler);else
$(this).bind("focus blur paste cut keydown drop",handler);$(this).data("inputEventHandler",handler);},teardown:function(){$(this).unbind("focus blur propertychange paste cut keydown drop",$(this).data("inputEventHandler"));}};$.fn.input=function(handler){return handler?this.bind("input",handler):this.trigger("input");}
function checkEvent(el){el.setAttribute("oninput","return");if(typeof el.oninput=="function")
return true;try{var e=document.createEvent("KeyboardEvent"),ok=false,tester=function(e){ok=true;e.preventDefault();e.stopPropagation();}
e.initKeyEvent("keypress",true,true,window,false,false,false,false,0,"e".charCodeAt(0));document.body.appendChild(el);el.addEventListener("input",tester,false);el.focus();el.dispatchEvent(e);el.removeEventListener("input",tester,false);document.body.removeChild(el);return ok;}catch(e){}}})(jQuery);